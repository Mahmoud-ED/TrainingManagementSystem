@model PlanHeader

@{
    ViewData["Title"] = "Delete Confirmation";
}

<div class="container mt-4">

    <div class="row justify-content-center">
        <div class="col-md-8">

            <!-- =========== The Warning Box =========== -->
            <div class="alert alert-danger text-center p-4">
                <i class="fas fa-exclamation-triangle fa-3x mb-3"></i>
                <h1 class="display-5">Delete Confirmation</h1>
                <p class="lead">Are you absolutely sure you want to permanently delete this plan?</p>
                <p><strong>This action is irreversible.</strong> All data associated with this plan will be lost.</p>
            </div>

            <!-- =========== Details of The Item to be Deleted =========== -->
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">You are about to delete the following plan:</h5>
                </div>
                <div class="card-body">
                    <dl class="row">
                        <dt class="col-sm-4">Plan Name</dt>
                        <dd class="col-sm-8">@Html.DisplayFor(model => model.Name)</dd>

                        <dt class="col-sm-4">Year / Quarter</dt>
                        <dd class="col-sm-8">@Html.DisplayFor(model => model.Year) - @Html.DisplayFor(model => model.Quarter)</dd>

                        <dt class="col-sm-4">Date From</dt>
                        <dd class="col-sm-8">@Model.DateFrom.ToString("dd MMMM, yyyy")</dd>

                        @if (!string.IsNullOrEmpty(Model.ApprovalFileUrl))
                        {
                            <dt class="col-sm-4 text-danger">Associated File</dt>
                            <dd class="col-sm-8 text-danger">
                                <i class="fas fa-file-pdf me-1"></i> An approval file is attached and <strong>will also be deleted</strong>.
                            </dd>
                        }
                    </dl>
                </div>
            </div>

            <!-- =========== The Form with Action Buttons =========== -->
            <div class="mt-4 text-center">
                <form asp-action="Delete">
                    <!-- ⭐ هام: هذا الحقل المخفي يرسل الـ ID إلى الـ Controller لتحديد أي سجل سيتم حذفه -->
                    <input type="hidden" asp-for="Id" />

                    <!-- UX: زر الحذف يجب أن يكون أحمر وواضح -->
                    <button type="submit" class="btn btn-danger btn-lg me-3">
                        <i class="fas fa-trash-alt me-2"></i>Yes, Delete This Plan
                    </button>

                    <!-- UX: زر الإلغاء يجب أن يكون أقل بروزاً -->
                    <a asp-action="Index" class="btn btn-secondary btn-lg">
                        <i class="fas fa-times-circle me-2"></i>No, Cancel
                    </a>
                </form>
            </div>

        </div>
    </div>
</div>